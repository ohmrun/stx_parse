package stx.parse.pack;

typedef FailureMsgDef = {
  public var msg(default,null)    : String;
  public var idx(default,null)    : Int;
  public var fatal(default,null)  : Bool;
}

@:forward abstract FailureMsg(FailureMsgDef) from FailureMsgDef{
  static public function at_with(input:Input<Dynamic>,msg:String,?fatal = false):FailureMsg{
    return {
      msg : msg,
      idx : input.offset,
      fatal : fatal
    };
  }
} 